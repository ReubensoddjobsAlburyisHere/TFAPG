<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Flagpocalypse</title>
  <!-- Pico.css for minimalist styling -->
  <link href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" rel="stylesheet">
  <!-- Tailwind CSS for utility classes, ensuring full responsiveness -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom styles for the Flagpocalypse theme */
    body {
      background: url('https://i.imgur.com/oPyfp2H.png') no-repeat center center fixed;
      background-size: cover;
      background-color: #000;
      color: white;
      text-shadow: 0 0 5px #000;
      font-family: 'Inter', sans-serif; /* Using Inter font as per instructions */
      transition: background-color 0.5s ease, color 0.5s ease, text-shadow 0.5s ease;
      font-size: var(--base-font-size, 1rem); /* Dynamic base font size */
    }
    body.light-mode {
        background-color: #f0f0f0; /* Lighter background */
        color: #333;
        text-shadow: none;
        background-image: none; /* Remove background image in light mode */
    }
    body.high-contrast-mode {
        background-color: #000 !important;
        color: #0F0 !important; /* Bright green text */
        text-shadow: 0 0 3px #0F0 !important;
    }
    body.high-contrast-mode nav,
    body.high-contrast-mode main,
    body.high-contrast-mode footer,
    body.high-contrast-mode .settings-content,
    body.high-contrast-mode .setting-item {
        background-color: #000 !important;
        border-color: #0F0 !important;
    }
    body.high-contrast-mode h2,
    body.high-contrast-mode h3 {
        color: #0F0 !important;
        text-shadow: 0 0 5px #0F0 !important;
    }
    body.high-contrast-mode a {
        color: #0FF !important; /* Cyan links */
    }
    body.high-contrast-mode .close-settings-button {
        color: #F00 !important; /* Red close button */
    }
    body.dark-blue-mode {
        background-color: #0a192f; /* Dark blue background */
        color: #ccd6f6; /* Light gray-blue text */
        text-shadow: 0 0 3px rgba(100, 255, 218, 0.5); /* Teal glow */
        background-image: none;
    }
    body.dark-blue-mode nav,
    body.dark-blue-mode main,
    body.dark-blue-mode footer,
    body.dark-blue-mode .settings-content,
    body.dark-blue-mode .setting-item {
        background-color: #112240 !important; /* Slightly lighter dark blue */
        border-color: #334455 !important;
    }
    body.dark-blue-mode h2,
    body.dark-blue-mode h3 {
        color: #64ffda !important; /* Teal headings */
        text-shadow: 0 0 5px #64ffda !important;
    }
    body.dark-blue-mode a {
        color: #64ffda !important; /* Teal links */
    }
    body.dark-blue-mode .close-settings-button {
        color: #ff6464 !important; /* Reddish close button */
    }

    /* Ensure text within main content areas inherits the base font size */
    main p, main h2, main details, main summary, main strong, #languageDemoText {
      font-size: inherit; /* Inherit font size from body */
    }


    html {
      scroll-behavior: smooth;
    }
    nav.container-fluid {
      background: black;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      transition: background-color 0.5s ease; /* Smooth transition for theme change */
    }
    nav ul {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      margin: 0;
      padding: 0;
    }
    nav li {
      margin: 0 0.5rem;
    }
    nav a {
      color: white !important;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      transition: background-color 0.3s ease;
    }
    nav a:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    main {
      background-color: rgba(0, 0, 0, 0.7);
      padding: 2rem;
      border-radius: 1rem;
      margin-top: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      transition: background-color 0.5s ease, color 0.5s ease, box-shadow 0.5s ease;
    }
    section {
      margin-bottom: 3rem;
      padding-bottom: 1rem;
      border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
      transition: border-color 0.5s ease;
    }
    body.light-mode section {
        border-bottom: 1px dashed rgba(0, 0, 0, 0.2);
    }
    section:last-of-type {
      border-bottom: none;
      margin-bottom: 0;
    }
    footer {
      text-align: center;
      padding-top: 2rem;
      padding-bottom: 1rem;
      background-color: rgba(0, 0, 0, 0.8);
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      transition: background-color 0.5s ease;
    }
    details {
      margin-bottom: 1rem;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
      transition: background-color 0.3s ease;
    }
    body.light-mode details {
        background-color: rgba(0, 0, 0, 0.05);
        color: #333;
    }
    details summary {
      cursor: pointer;
      font-weight: bold;
      padding: 0.5rem 0;
      transition: color 0.3s ease;
    }
    body.light-mode details summary {
        color: #333;
    }
    details summary:hover {
      color: lightgray;
    }
    body.light-mode details summary:hover {
        color: #000;
    }
    details[open] {
      background-color: rgba(255, 255, 255, 0.15);
    }
    body.light-mode details[open] {
        background-color: rgba(0, 0, 0, 0.1);
    }
    details p {
      margin-top: 0.5rem;
      padding-left: 1rem;
      border-left: 2px solid lightgray;
      transition: border-color 0.5s ease;
    }
    body.light-mode details p {
        border-left: 2px solid #555;
    }

    /* Styles for the Settings Modal */
    .settings-modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      justify-content: center;
      align-items: center;
    }

    .settings-content {
      background-color: #2a2a2a;
      margin: auto;
      padding: 2rem;
      border: 1px solid #888;
      width: 90%;
      max-width: 700px;
      border-radius: 1rem;
      position: relative;
      box-shadow: 0 0 25px rgba(0, 0, 0, 0.7);
      max-height: 90vh;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
    }

    .settings-content h3 {
      text-align: center;
      color: white;
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
      text-shadow: 0 0 8px #fff;
      transition: color 0.5s ease, text-shadow 0.5s ease;
    }

    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      padding-bottom: 1rem;
    }

    .setting-item {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding: 1rem;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 0.75rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      transition: background-color 0.2s ease, transform 0.2s ease, border-color 0.5s ease;
    }

    .setting-item:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateY(-3px);
    }

    .setting-item label {
      color: white;
      font-weight: bold;
      margin-bottom: 0.5rem;
      width: 100%;
    }

    .setting-item input[type="range"] {
      width: 100%;
      -webkit-appearance: none;
      appearance: none;
      background: #444;
      outline: none;
      border-radius: 5px;
      height: 8px;
      transition: background 0.2s ease;
    }

    .setting-item input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #1abc9c;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }

    .setting-item input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #1abc9c;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }

    .setting-item input[type="checkbox"] {
      width: 1.5rem;
      height: 1.5rem;
      border-radius: 0.3rem;
      border: 2px solid #555;
      background-color: #333;
      appearance: none;
      -webkit-appearance: none;
      cursor: pointer;
      position: relative;
      transition: background-color 0.2s ease, border-color 0.2s ease;
    }

    .setting-item input[type="checkbox"]:checked {
      background-color: #1abc9c;
      border-color: #1abc9c;
    }

    .setting-item input[type="checkbox"]:checked::after {
      content: '✓';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 1rem;
      font-weight: bold;
    }

    .setting-item select,
    .setting-item input[type="text"] {
      width: 100%;
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #555;
      background-color: #333;
      color: white;
      font-size: 1rem;
      transition: background-color 0.5s ease, border-color 0.5s ease, color 0.5s ease;
    }

    .setting-item select option {
      background-color: #333;
      color: white;
    }

    .setting-item button {
      width: auto;
      padding: 0.5rem 1.2rem;
      border-radius: 0.5rem;
      background-color: #3498db;
      color: white;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: background-color 0.2s ease, transform 0.1s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .setting-item button:hover {
      background-color: #2980b9;
      transform: translateY(-2px);
    }
    .setting-item button:active {
        transform: translateY(0);
        box-shadow: none;
    }

    .setting-item button.reset-button {
        background-color: #e74c3c;
    }

    .setting-item button.reset-button:hover {
        background-color: #c0392b;
    }

    .close-settings-button {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      transition: color 0.2s ease, transform 0.2s ease;
      line-height: 1;
    }

    .close-settings-button:hover {
      color: #e74c3c;
      transform: rotate(90deg);
    }

    /* Cogwheel icon styling */
    .cogwheel-icon {
      cursor: pointer;
      display: inline-block;
      width: 24px;
      height: 24px;
      vertical-align: middle;
      transition: transform 0.3s ease;
      margin-left: 1rem;
    }

    .cogwheel-icon:hover {
      transform: rotate(30deg);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .settings-content {
        padding: 1.5rem;
      }
      .settings-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
      .settings-content h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }
    }
    @media (max-width: 480px) {
        nav ul {
            flex-direction: column;
            align-items: flex-start;
        }
        nav li {
            margin: 0.25rem 0;
        }
        .cogwheel-icon {
            margin-left: 0;
            margin-top: 0.5rem;
        }
        main {
            padding: 1.5rem;
        }
    }
    /* Style for scroll progress indicator */
    .scroll-progress-indicator {
        position: fixed;
        top: 0;
        left: 0;
        height: 5px;
        background-color: #1abc9c;
        width: 0%;
        z-index: 999;
        transition: width 0.1s linear;
    }
    /* Style for welcome message */
    .welcome-message, .language-message {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        z-index: 1002;
        font-size: 1.5rem;
        text-align: center;
        opacity: 0;
        animation: fadein 0.5s forwards, fadeout 0.5s forwards 2.5s;
        display: none;
    }
    .language-message {
        top: 80%; /* Position lower for language confirmation */
        background-color: rgba(52, 152, 219, 0.9); /* Blue background for language */
    }


    @keyframes fadein {
        from { opacity: 0; transform: translate(-50%, -60%); }
        to { opacity: 1; transform: translate(-50%, -50%); }
    }

    @keyframes fadeout {
        from { opacity: 1; transform: translate(-50%, -50%); }
        to { opacity: 0; transform: translate(-50%, -40%); }
    }


  </style>
</head>
<body>

  <!-- Scroll Progress Indicator (Added for new setting) -->
  <div id="scrollProgress" class="scroll-progress-indicator"></div>

  <!-- Welcome Message (Added for new setting) -->
  <div id="welcomeMessage" class="welcome-message">
    Welcome to The Flagpocalypse!
  </div>

  <!-- Language Change Confirmation Message -->
  <div id="languageMessage" class="language-message"></div>

  <!-- Navigation Bar -->
  <nav class="container-fluid">
    <ul>
      <li><strong>THE FLAGPOCALYPSE</strong></li>
    </ul>
    <ul>
      <li><a href="#about">About</a></li>
      <li><a href="#characters">Characters</a></li>
      <li><a href="#episodes">Episodes</a></li>
      <li>
        <!-- Cogwheel icon to open settings -->
        <span class="cogwheel-icon" id="openSettingsBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings">
            <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.78 1.22a2 2 0 0 0 .73 2.73l.09.09a2 2 0 0 1 0 2.83l-.09.09a2 2 0 0 0-.73 2.73l.78 1.22a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.78-1.22a2 2 0 0 0-.73-2.73l-.09-.09a2 2 0 0 1 0-2.83l.09-.09a2 2 0 0 0 .73-2.73l-.78-1.22a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/>
          </svg>
        </span>
      </li>
    </ul>
  </nav>

  <!-- Main Content Area -->
  <main class="container">
    <section id="about">
      <h2>About the Show</h2>
      <p id="languageDemoText">This text will change based on the selected language in settings.</p>
      <p><strong>The Flagpocalypse</strong> is a dark comedy animated series about alien beings that take the form of national flags, invading Earth with zero understanding of human society. Expect satire, mayhem, and absurd political humor aimed at mature audiences.</p>
    </section>

    <section id="episodes">
      <h2>Episodes</h2>
      <p>Season 1 is in development. Animated shorts and full episodes are coming soon. The season is expected to have 10 episodes total.</p>
    </section>

    <section id="characters">
      <h2>Characters (Coming Soon)</h2>
      <p>Meet the cast of colorful, opinionated, and hilarious anthropomorphic flag-beings. Full profiles coming as launch nears.</p>
    </section>

    <section id="faq">
      <h2>Frequently Asked Questions about The Flagpocalypse</h2>
      <details><summary>Is it safe for kids? 🚫</summary><p>Absolutely NOT. The Flagpocalypse is intentionally rated MA15+ and is designed exclusively for mature audiences. It contains elements such as comedic violence, suggestive humor, coarse language, and strong satirical content that are explicitly not suitable for children or younger viewers. We want viewers to be fully prepared for its boundary-pushing humor and mature themes. ⚠️</p></details>
      <details><summary>What is The Flagpocalypse about? 🗺️</summary><p>The Flagpocalypse is a wild, MA15+-rated adult animated sitcom concept. It revolves around alien creatures that resemble national flags crashing onto Earth, causing widespread chaos. These 'flag-aliens' have no understanding of human behavior, leading to hilariously dark situations, absurd antics, and sharp political satire. It's designed to be crazy, unhinged, and definitely for mature audiences. 😂👽</p></details>
      <details><summary>When will Season 1 be released? 🗓️</summary><p>The Flagpocalypse is currently in active development!</p></details>
      <details><summary>What genre is the show? 🎬</summary><p>The Flagpocalypse primarily falls into the adult animated sitcom genre, blending elements of dark comedy, sharp political satire, and absurd humor. 🖤🗳️🤪</p></details>
      <details><summary>Who is making the show? 🧑‍💻</summary><p>The Flagpocalypse is created by Reuben, a young Australian animator. Reuben is currently driving the project's development and is looking to build a talented team to help bring the series to fruition. 🇦🇺🌟</p></details>
      <details><summary>Will the show have voice actors? 🎙️</summary><p>No, Reuben is doing all voices, but we are trying our best to look for some. 🙏</p></details>
      <details><summary>How many episodes are in Season 1? 📺</summary><p>Season 1 of The Flagpocalypse is planned to consist of 10 episodes. This number is set as we continue through the development phase and seek partners to bring the series to production. ✨</p></details>
      <details><summary>Where will it be available to watch? 💻</summary><p>Upon release, The Flagpocalypse will be available on our official website for $5 per season. 💸</p></details>
      <details><summary>Can fans get involved? ❤️‍🔥</summary><p>Yes, absolutely! The best way for fans to get involved right now is to follow The Flagpocalypse on our Facebook page: The Flagpocalypse. Spreading the word and showing early interest is incredibly helpful in gaining momentum and attracting the support needed to produce the show. Future opportunities for fan involvement may arise as the project progresses! 📣🤝</p></details>
    </section>
  </main>

  <!-- Footer -->
  <footer class="container">
    <small>
      <a href="#">Privacy Policy</a> • <a href="#">Terms of Service</a>
      <br>
      © 2025 The Flagpocalypse Productions
    </small>
  </footer>

  <!-- Settings Modal -->
  <div id="settingsModal" class="settings-modal">
    <div class="settings-content">
      <button class="close-settings-button" id="closeSettingsBtn">&times;</button>
      <h3>Website Settings</h3>
      <div class="settings-grid">
        <!-- Setting 1: Text Size -->
        <div class="setting-item">
          <label for="textSize">Text Size (<span id="textSizeValue">Medium</span>)</label>
          <input type="range" id="textSize" min="0" max="2" value="1">
        </div>
        <!-- Setting 2: Theme -->
        <div class="setting-item">
          <label for="theme">Theme</label>
          <select id="theme">
            <option value="default">Default (Dark)</option>
            <option value="light-mode">Light Mode</option>
            <option value="high-contrast">High Contrast</option>
            <option value="dark-blue">Dark Blue</option>
          </select>
        </div>
        <!-- Setting 3: Language Preference -->
        <div class="setting-item">
          <label for="languagePref">Content Language</label>
          <select id="languagePref">
            <option value="en" selected>English</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
          </select>
        </div>
        <!-- Setting 4: Reduce Motion -->
        <div class="setting-item">
          <label for="reduceMotion">Reduce Animations/Motion</label>
          <input type="checkbox" id="reduceMotion">
        </div>
        <!-- Setting 5: High Performance Mode -->
        <div class="setting-item">
          <label for="highPerformance">High Performance Mode</label>
          <input type="checkbox" id="highPerformance">
        </div>
        <!-- Setting 6: Clear Cache -->
        <div class="setting-item">
          <label>Clear Local Cache</label>
          <button id="clearCacheBtn">Clear Cache</button>
        </div>
        <!-- Setting 7: Allow Beta Features -->
        <div class="setting-item">
          <label for="betaFeatures">Enable Beta Features</label>
          <input type="checkbox" id="betaFeatures">
        </div>
        <!-- Setting 8: Enable Tooltips -->
        <div class="setting-item">
          <label for="enableTooltips">Enable Tooltips</label>
          <input type="checkbox" id="enableTooltips" checked>
        </div>
        <!-- Setting 9: Send Feedback (Coming Soon) -->
        <div class="setting-item">
          <label>Send Us Feedback</label>
          <button id="feedbackBtn" disabled>Coming Soon</button>
        </div>
        <!-- Setting 10: Enhanced Accessibility -->
        <div class="setting-item">
          <label for="accessibilityMode">Enhanced Accessibility</label>
          <input type="checkbox" id="accessibilityMode">
        </div>
        <!-- Setting 11: Smooth Page Transitions -->
        <div class="setting-item">
            <label for="smoothTransitions">Smooth Page Transitions</label>
            <input type="checkbox" id="smoothTransitions" checked>
        </div>
        <!-- Setting 12: Default Starting Section -->
        <div class="setting-item">
            <label for="defaultSection">Default Starting Section</label>
            <select id="defaultSection">
                <option value="about" selected>About</option>
                <option value="episodes">Episodes</option>
                <option value="characters">Characters</option>
                <option value="faq">FAQ</option>
            </select>
        </div>
        <!-- Setting 13: Animations Level -->
        <div class="setting-item">
            <label for="animationsLevel">Animations Level (<span id="animationsLevelValue">Full</span>)</label>
            <input type="range" id="animationsLevel" min="0" max="2" value="2">
        </div>
        <!-- Setting 14: Mouse Cursor Style -->
        <div class="setting-item">
            <label for="cursorStyle">Mouse Cursor Style</label>
            <select id="cursorStyle">
                <option value="default" selected>Default</option>
                <option value="pointer">Pointer</option>
                <option value="crosshair">Crosshair</option>
                <option value="cell">Cell</option>
                <option value="col-resize">Column Resize</option>
                <option value="row-resize">Row Resize</option>
                <option value="grab">Grab</option>
                <option value="grabbing">Grabbing</option>
                <option value="zoom-in">Zoom In</option>
                <option value="zoom-out">Zoom Out</option>
            </select>
        </div>
        <!-- Setting 15: Show "New Content" Badges -->
        <div class="setting-item">
            <label for="newContentBadges">Show "New Content" Badges</label>
            <input type="checkbox" id="newContentBadges" checked>
        </div>
        <!-- Setting 16: Automatic Content Refresh -->
        <div class="setting-item">
            <label for="autoRefresh">Automatic Content Refresh</label>
            <select id="autoRefresh">
                <option value="never" selected>Never</option>
                <option value="5min">Every 5 minutes</option>
                <option value="30min">Every 30 minutes</option>
            </select>
        </div>
        <!-- Setting 17: Show Scroll Progress Indicator -->
        <div class="setting-item">
            <label for="showScrollProgress">Show Scroll Progress</label>
            <input type="checkbox" id="showScrollProgress" checked>
        </div>
        <!-- Setting 18: Default Reading Font -->
        <div class="setting-item">
            <label for="readingFont">Default Reading Font</label>
            <select id="readingFont">
                <option value="Inter" selected>Inter (Default)</option>
                <option value="Arial">Arial</option>
                <option value="Verdana">Verdana</option>
                <option value="Georgia">Georgia</option>
            </select>
        </div>
        <!-- Setting 19: Link Underline Style -->
        <div class="setting-item">
            <label for="linkUnderline">Link Underline Style</label>
            <select id="linkUnderline">
                <option value="always" selected>Always</option>
                <option value="hover">On Hover</option>
                <option value="never">Never</option>
            </select>
        </div>
        <!-- Setting 20: Show Page Title in Tab -->
        <div class="setting-item">
            <label for="showPageTitleInTab">Show Page Title in Tab</label>
            <input type="checkbox" id="showPageTitleInTab" checked>
        </div>
        <!-- Setting 21: Enable Animations on Hover -->
        <div class="setting-item">
            <label for="animationsOnHover">Enable Hover Animations</label>
            <input type="checkbox" id="animationsOnHover" checked>
        </div>
        <!-- Setting 22: Maximum Content Width -->
        <div class="setting-item">
            <label for="maxContentWidth">Max Content Width (<span id="maxContentWidthValue">90%</span>)</label>
            <input type="range" id="maxContentWidth" min="50" max="100" value="90">
        </div>
        <!-- Setting 23: Show Welcome Message on Load -->
        <div class="setting-item">
            <label for="showWelcomeMessage">Show Welcome Message on Load</label>
            <input type="checkbox" id="showWelcomeMessage" checked>
        </div>
        <!-- Setting 24: App Version (Moved to bottom) -->
        <div class="setting-item">
          <label>App Version</label>
          <input type="text" value="The Flagpocalypse v1.0.0" readonly>
        </div>
        <!-- Setting 25: Reset All Settings (Moved to bottom) -->
        <div class="setting-item">
          <label>Reset All Settings</label>
          <button id="resetSettingsBtn" class="reset-button">Reset</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Get references to DOM elements
    const settingsModal = document.getElementById('settingsModal');
    const openSettingsBtn = document.getElementById('openSettingsBtn');
    const closeSettingsBtn = document.getElementById('closeSettingsBtn');
    const body = document.body;
    const scrollProgress = document.getElementById('scrollProgress');
    const mainContent = document.querySelector('main.container');
    const welcomeMessage = document.getElementById('welcomeMessage');
    const languageMessage = document.getElementById('languageMessage'); // New for language confirmation
    const languageDemoText = document.getElementById('languageDemoText'); // Element for language demo

    // Get references to specific setting elements that need dynamic updates
    const textSizeSlider = document.getElementById('textSize');
    const textSizeValueSpan = document.getElementById('textSizeValue');
    const animationsLevelSlider = document.getElementById('animationsLevel');
    const animationsLevelValueSpan = document.getElementById('animationsLevelValue');
    const maxContentWidthSlider = document.getElementById('maxContentWidth');
    const maxContentWidthValueSpan = document.getElementById('maxContentWidthValue');
    const clearCacheButton = document.getElementById('clearCacheBtn');
    const feedbackButton = document.getElementById('feedbackBtn');
    const resetSettingsButton = document.getElementById('resetSettingsBtn');
    const originalTitle = document.title;

    // Define initial settings state (can be loaded from localStorage in a real app)
    let appSettings = {
        textSize: 1, // 0:Small, 1:Medium, 2:Large
        theme: 'default', // 'default', 'light-mode', 'high-contrast', 'dark-blue'
        languagePref: 'en',
        reduceMotion: false,
        highPerformance: false,
        betaFeatures: false,
        enableTooltips: true,
        accessibilityMode: false,
        smoothTransitions: true,
        defaultSection: 'about',
        animationsLevel: 2, // 0:None, 1:Subtle, 2:Full
        cursorStyle: 'default',
        newContentBadges: true,
        autoRefresh: 'never',
        showScrollProgress: true,
        readingFont: 'Inter',
        linkUnderline: 'always',
        showPageTitleInTab: true,
        animationsOnHover: true,
        maxContentWidth: 90,
        showWelcomeMessage: true
    };

    // Pre-defined demo texts for language changes
    const languageDemoTexts = {
        en: "This text will change based on the selected language in settings.",
        es: "Este texto cambiará según el idioma seleccionado en la configuración.",
        fr: "Ce texte changera en fonction de la langue sélectionnée dans les paramètres."
    };

    // Helper function to update UI for range sliders
    function updateRangeDisplay(slider, valueSpan, labels) {
        const value = parseInt(slider.value);
        if (labels) {
            valueSpan.textContent = labels[value];
        } else {
            valueSpan.textContent = value + '%'; // For percentage sliders
        }
        appSettings[slider.id] = value; // Update the appSettings object
        console.log(`Setting '${slider.id}' changed to: ${valueSpan.textContent} (${value})`);
        applySettings(); // Apply settings visually
    }

    // Function to apply settings visually
    function applySettings() {
        // Apply text size
        const textSizeMap = ['0.8rem', '1rem', '1.2rem'];
        document.documentElement.style.setProperty('--base-font-size', textSizeMap[appSettings.textSize]);
        // Also apply to main content paragraphs explicitly for demo
        document.querySelectorAll('main p').forEach(p => {
            p.style.fontSize = `var(--base-font-size)`;
        });

        // Apply theme
        body.classList.remove('light-mode', 'high-contrast-mode', 'dark-blue-mode'); // Clear all theme classes
        if (appSettings.theme !== 'default') {
            body.classList.add(appSettings.theme + '-mode');
        }

        // Apply language preference (simulated)
        if (languageDemoText) {
            languageDemoText.textContent = languageDemoTexts[appSettings.languagePref] || languageDemoTexts['en'];
            showConfirmationMessage(`Language changed to: ${appSettings.languagePref.toUpperCase()}`);
        }

        // Apply smooth transitions
        document.documentElement.style.setProperty('scroll-behavior', appSettings.smoothTransitions ? 'smooth' : 'auto');

        // Apply animations level (conceptual - would map to CSS classes for animations)
        const animationsLevelMap = ['none', 'subtle', 'full'];
        console.log(`Animations level set to: ${animationsLevelMap[appSettings.animationsLevel]}`);

        // Apply cursor style
        body.style.cursor = appSettings.cursorStyle;

        // Apply reading font
        document.body.style.fontFamily = appSettings.readingFont + ', sans-serif';

        // Apply link underline style (conceptual)
        console.log(`Link underline style set to: ${appSettings.linkUnderline}`);

        // Toggle scroll progress indicator visibility
        if (appSettings.showScrollProgress) {
            scrollProgress.style.display = 'block';
            updateScrollProgress(); // Ensure it's updated immediately if shown
        } else {
            scrollProgress.style.width = '0%';
            scrollProgress.style.display = 'none';
        }

        // Apply "Show Page Title in Tab"
        if (appSettings.showPageTitleInTab) {
            document.title = "The Flagpocalypse - " + originalTitle;
        } else {
            document.title = originalTitle;
        }

        // Apply "Enable Animations on Hover" (conceptual)
        console.log(`Animations on Hover: ${appSettings.animationsOnHover ? 'Enabled' : 'Disabled'}`);

        // Apply "Maximum Content Width"
        if (mainContent) {
            mainContent.style.maxWidth = `${appSettings.maxContentWidth}%`;
        }

        // Apply "Show Welcome Message on Load"
        if (appSettings.showWelcomeMessage && !sessionStorage.getItem('welcomeMessageShown')) {
            welcomeMessage.style.display = 'block';
            sessionStorage.setItem('welcomeMessageShown', 'true');
            setTimeout(() => {
                welcomeMessage.style.display = 'none';
            }, 3000);
        } else if (!appSettings.showWelcomeMessage) {
            welcomeMessage.style.display = 'none';
            sessionStorage.removeItem('welcomeMessageShown');
        }

        // Other conceptual settings like reduceMotion, highPerformance, betaFeatures, etc.
        console.log('Current App Settings:', appSettings);
    }

    // Function to show a temporary confirmation message
    function showConfirmationMessage(message) {
        languageMessage.textContent = message;
        languageMessage.style.display = 'block';
        setTimeout(() => {
            languageMessage.style.display = 'none';
        }, 3000);
    }


    // Initialize setting displays based on current appSettings
    function initializeSettingsUI() {
        // Text Size
        const textSizeLabels = ['Small', 'Medium', 'Large'];
        textSizeSlider.value = appSettings.textSize;
        textSizeValueSpan.textContent = textSizeLabels[appSettings.textSize];
        textSizeSlider.removeEventListener('input', updateTextSizeDisplay);
        textSizeSlider.addEventListener('input', updateTextSizeDisplay);
        function updateTextSizeDisplay() { updateRangeDisplay(textSizeSlider, textSizeValueSpan, textSizeLabels); }


        // Animations Level
        const animationsLevelLabels = ['None', 'Subtle', 'Full'];
        animationsLevelSlider.value = appSettings.animationsLevel;
        animationsLevelValueSpan.textContent = animationsLevelLabels[appSettings.animationsLevel];
        animationsLevelSlider.removeEventListener('input', updateAnimationsLevelDisplay);
        animationsLevelSlider.addEventListener('input', updateAnimationsLevelDisplay);
        function updateAnimationsLevelDisplay() { updateRangeDisplay(animationsLevelSlider, animationsLevelValueSpan, animationsLevelLabels); }

        // Max Content Width
        maxContentWidthSlider.value = appSettings.maxContentWidth;
        maxContentWidthValueSpan.textContent = appSettings.maxContentWidth + '%';
        maxContentWidthSlider.removeEventListener('input', updateMaxContentWidthDisplay);
        maxContentWidthSlider.addEventListener('input', updateMaxContentWidthDisplay);
        function updateMaxContentWidthDisplay() { updateRangeDisplay(maxContentWidthSlider, maxContentWidthValueSpan); }

        // Initialize checkboxes and selects
        for (const key in appSettings) {
            const element = document.getElementById(key);
            if (element && !['textSize', 'animationsLevel', 'maxContentWidth'].includes(element.id)) {
                const oldEventListener = element.getAttribute('data-listener');
                if (oldEventListener && window[oldEventListener]) {
                    element.removeEventListener('change', window[oldEventListener]);
                }

                if (element.type === 'checkbox') {
                    element.checked = appSettings[key];
                    const listenerFn = (event) => {
                        appSettings[key] = event.target.checked;
                        console.log(`Setting '${key}' changed to: ${event.target.checked}`);
                        applySettings();
                    };
                    element.addEventListener('change', listenerFn);
                    element.setAttribute('data-listener', listenerFn.name || `listener_${key}`);
                    window[`listener_${key}`] = listenerFn;
                } else if (element.tagName === 'SELECT') {
                    element.value = appSettings[key];
                    const listenerFn = (event) => {
                        appSettings[key] = event.target.value;
                        console.log(`Setting '${key}' changed to: ${event.target.value}`);
                        applySettings();
                    };
                    element.addEventListener('change', listenerFn);
                    element.setAttribute('data-listener', listenerFn.name || `listener_${key}`);
                    window[`listener_${key}`] = listenerFn;
                }
            }
        }
        applySettings();
    }

    // Open the settings modal
    openSettingsBtn.addEventListener('click', () => {
      settingsModal.style.display = 'flex';
      initializeSettingsUI();
    });

    // Close the settings modal
    closeSettingsBtn.addEventListener('click', () => {
      settingsModal.style.display = 'none';
    });

    // Close the modal if clicking outside the content area
    window.addEventListener('click', (event) => {
      if (event.target == settingsModal) {
        settingsModal.style.display = 'none';
      }
    });

    // Handle "Clear Cache" button click
    clearCacheButton.addEventListener('click', () => {
      console.log('Cache Cleared! (Simulated)');
      const messageBox = document.createElement('div');
      messageBox.textContent = 'Cache Cleared! (Simulated)';
      messageBox.className = 'message-box';
      document.body.appendChild(messageBox);
      setTimeout(() => {
        messageBox.remove();
      }, 3000);
    });

    // Handle "Reset All Settings" button click
    resetSettingsButton.addEventListener('click', () => {
        // Reset appSettings to initial default values
        appSettings = {
            textSize: 1,
            theme: 'default',
            languagePref: 'en',
            reduceMotion: false,
            highPerformance: false,
            betaFeatures: false,
            enableTooltips: true,
            accessibilityMode: false,
            smoothTransitions: true,
            defaultSection: 'about',
            animationsLevel: 2,
            cursorStyle: 'default',
            newContentBadges: true,
            autoRefresh: 'never',
            showScrollProgress: true,
            readingFont: 'Inter',
            linkUnderline: 'always',
            showPageTitleInTab: true,
            animationsOnHover: true,
            maxContentWidth: 90,
            showWelcomeMessage: true
        };
        sessionStorage.removeItem('welcomeMessageShown');
        initializeSettingsUI();
        console.log('All settings have been reset to default!');

        const messageBox = document.createElement('div');
        messageBox.textContent = 'All settings have been reset!';
        messageBox.className = 'message-box';
        document.body.appendChild(messageBox);
        setTimeout(() => {
          messageBox.remove();
        }, 3000);
    });

    // Message Box style (for Clear Cache and Reset Settings)
    const style = document.createElement('style');
    style.innerHTML = `
      .message-box {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #333;
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        z-index: 1001;
        opacity: 0;
        animation: fadeinout 3s forwards;
        box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      }
      @keyframes fadeinout {
        0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
        10% { opacity: 1; transform: translateX(-50%) translateY(0); }
        90% { opacity: 1; transform: translateX(-50%) translateY(0); }
        100% { opacity: 0; transform: translateX(-50%) translateY(20px); }
      }
    `;
    document.head.appendChild(style);

    // Scroll progress update function
    function updateScrollProgress() {
        const docElem = document.documentElement;
        const scrollPx = docElem.scrollTop;
        const totalHeight = docElem.scrollHeight - docElem.clientHeight;
        const scrollPercentage = (totalHeight > 0) ? (scrollPx / totalHeight) * 100 : 0;
        scrollProgress.style.width = scrollPercentage + '%';

        if (scrollPx === 0 && appSettings.showScrollProgress) {
            scrollProgress.style.width = '0%';
        }
    }

    // Event listener for scroll to update progress indicator
    window.addEventListener('scroll', updateScrollProgress);

    // Initial application of settings when the page loads
    window.addEventListener('load', () => {
        initializeSettingsUI();
    });

  </script>
</body>
</html>
